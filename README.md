# PDF Book Summariser

![PDF Book Summariser](./PdfSummary.png)

## Overview

**PDF Book Summariser** is a web application designed to help users efficiently read and understand PDF books by summarising their content. Users can upload a PDF file, specify the number of words for the summary, and receive a concise summary generated by OpenAI's GPT-3.5-turbo model.

## Features

- **File Upload**: Users can upload PDF files for summarisation.
- **Word Count Specification**: Users can specify the approximate number of words for the summary.
- **Summarisation**: Utilises OpenAI's GPT-3.5-turbo model to generate concise summaries of PDF content.

## Getting Started

### Prerequisites

- Node.js
- npm (Node Package Manager)
- OpenAI API Key

### Installation

1. Clone the repository:
    ```sh
    git clone https://github.com/yourusername/pdf-book-summariser.git
    cd pdf-book-summariser
    ```

2. Install the required dependencies:
    ```sh
    npm install
    ```

3. Create a `.env` file in the root directory and add your OpenAI API key:
    ```sh
    OPENAI_API_KEY=your_openai_api_key
    ```

4. Start the server:
    ```sh
    npm start
    ```

5. Open your browser and navigate to `http://localhost:5000` to view the application.

### Usage

1. Upload a PDF file by clicking on the "Choose File" button.
2. Enter the desired word count for the summary in the input field.
3. Click the "Summarise PDF in about [word count] words" button.
4. View the summary displayed on the page.

## Project Structure

- **Backend**: The server is built using Express.js. It handles file uploads, PDF text extraction, and communicates with the OpenAI API to generate summaries.
- **Frontend**: The client is built with React.js. It provides a user-friendly interface for file upload and displays the summarised text.

## Server Code

The server code is responsible for handling incoming requests, extracting text from uploaded PDF files, and interacting with the OpenAI API. Below is a snippet of the server code:

```javascript
const express = require("express");
const dotenv = require("dotenv");
const cors = require("cors");
const multer = require("multer");
const path = require("path");
const { PDFExtract } = require("pdf.js-extract");
const { Configuration, OpenAIApi } = require("openai");

dotenv.config();
const app = express();
app.use(cors());
app.use(express.json());

const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);

const upload = multer({ dest: path.join(__dirname, "pdfSummary") });

app.post("/api/pdfSummary", upload.single("pdf"), async (req, res) => {
  try {
    const { maxWords } = req.body;
    const pdfFile = req.file;

    const pdfExtract = new PDFExtract();
    const data = await pdfExtract.extract(pdfFile.path, {});

    const pdfText = data.pages.map(page => page.content.map(item => item.str).join(" ")).join(" ");

    if (pdfText.length === 0) {
      return res.status(400).json({ error: "Text could not be extracted from this PDF. Please try another PDF." });
    }

    const summarisedText = pdfText; // Replace this with your summarisation logic

    res.json({ summarisedText });
  } catch (error) {
    console.error("An error occurred:", error);
    res.status(500).json({ error: error.message });
  }
});

const PORT = process.env.PORT || 5000;
app.listen(PORT, () => console.log(`Server started on port ${PORT}`));
```

## Client Code

The client code provides a form for users to upload PDF files and specify the word count for the summary. Below is a snippet of the client code:

```javascript
import React, { useState } from "react";
import axios from "axios";

function PDFSummary() {
  const [maxWords, setMaxWords] = useState(100);
  const [selectedFile, setSelectedFile] = useState(null);
  const [result, setResult] = useState("");
  const [error, setError] = useState("");
  const [loading, setLoading] = useState(false);

  const handleFileChange = (event) => {
    setSelectedFile(event.target.files[0]);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    setLoading(true);

    if (!maxWords || !selectedFile) {
      setError("Please provide a file and word count.");
      setLoading(false);
      return;
    }

    try {
      const formData = new FormData();
      formData.append("pdf", selectedFile);
      formData.append("maxWords", maxWords);

      const response = await axios.post('/api/pdfSummary', formData, {
        headers: { 'Content-Type': 'multipart/form-data' },
      });

      if (response.data.error) {
        setError(response.data.error);
      } else {
        setResult(response.data.summarisedText);
      }
    } catch (error) {
      setError("An error occurred while submitting the form.");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="container">
      <div className="hero text-center">
        <h1 className="display-4">PDF Book Summariser.</h1>
        <p className="lead">Summarise PDF Books for Efficient Reading!</p>
        <form onSubmit={handleSubmit}>
          <input type="file" accept=".pdf" onChange={handleFileChange}></input>
          <input type="number" value={maxWords} onChange={(e) => setMaxWords(e.target.value)} />
          <button type="submit" disabled={loading}>
            {loading ? "Analysing PDF..." : `Summarise PDF in about ${maxWords} words`}
          </button>
        </form>
        {error && <div className="alert alert-danger">{error}</div>}
        {result && <div className="alert alert-success">{result}</div>}
      </div>
    </div>
  );
}

export default PDFSummary;
```

## Contributing

Contributions are welcome! Please open an issue or submit a pull request for any changes or enhancements.

## License

This project is licensed under the MIT License.

## Acknowledgements

- [OpenAI](https://www.openai.com) for their powerful GPT-3.5-turbo model.
- [PDF.js-extract](https://github.com/pfryz/pdf.js-extract) for PDF text extraction.

---
